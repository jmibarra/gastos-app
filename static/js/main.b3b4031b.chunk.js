(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){e.exports=a(257)},249:function(e,t,a){},251:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(45),c=a.n(l),o=a(13),m=a(8),u=function e(){Object(m.a)(this,e)};u.getMonthName=function(e){return["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][parseInt(e,10)-1]},u.getCurrentYear=function(){return(new Date).getFullYear()},u.getCurrentMonth=function(){var e=new Date;return String(e.getMonth()+1).padStart(2,"0")};var s=u,i={year:s.getCurrentYear(),month:s.getCurrentMonth(),month_name:s.getMonthName(s.getCurrentMonth())},E=function(e,t){switch(t.type){case"SET_DATE":return{year:t.payload.year,month:t.payload.month,month_name:s.getMonthName(t.payload.month)};default:return e}},p=Object(n.createContext)(),d=p.Provider,f=function(e){var t=e.children,a=Object(n.useReducer)(E,i),l=Object(o.a)(a,2),c=l[0],m=l[1];return r.a.createElement(d,{value:{state:c,setDate:function(e,t){m({type:"SET_DATE",payload:{year:e,month:t}})}}}," ",t)},b=a(10),h=a(72),g=a(100),v=a(31),O={loggedIn:!1,user:{}},j=function(e,t){switch(t.type){case"LOG_IN":return{user:t.payload.user,loggedIn:t.payload.loggedIn};case"LOG_OUT":return{};default:return e}},y=Object(n.createContext)(),C=y.Provider,x=function(e){var t=e.children,a=Object(n.useReducer)(j,O),l=Object(o.a)(a,2),c=l[0],m=l[1];return r.a.createElement(C,{value:{sessionState:c,login:function(e){m({type:"LOG_IN",payload:{loggedIn:!0,user:e}})},logout:function(){m({type:"LOG_OUT",payload:{loggedIn:!1,user:{}}})}}}," ",t)},w=a(35),N=function(){var e=Object(n.useContext)(y),t=e.sessionState,a=e.logout,l=Object(n.useState)(!1),c=Object(o.a)(l,2),m=c[0],u=c[1];return r.a.createElement(b.k,{isOpen:m,toggle:function(){return u(function(e){return!e})}},r.a.createElement(b.n,{tag:"span"},r.a.createElement(g.a,{name:t.user.email,round:!0,size:"60"})),r.a.createElement(b.m,{end:!0},r.a.createElement(b.l,{onClick:function(){var e=Object(w.b)();Object(w.e)(e).then(function(){a()}).catch(function(e){console.error(e)})}},"Logout")))},k=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useContext)(p),u=m.state,s=m.setDate,i=Object(n.useContext)(y).sessionState;return r.a.createElement("div",null,r.a.createElement(b.z,{color:"light",light:!0,expand:"md"},i.loggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.A,{href:"/"},"Gastos ",u.month_name," ",u.year," "),r.a.createElement(b.B,{className:"me-2",onClick:function(){return c(!l)}}),r.a.createElement(b.i,{isOpen:l,navbar:!0},r.a.createElement(b.y,{className:"me-auto",navbar:!0},r.a.createElement(b.H,{nav:!0,inNavbar:!0},r.a.createElement(b.n,{nav:!0,caret:!0},"A\xf1o"),r.a.createElement(b.m,{end:!0},r.a.createElement(b.l,{onClick:function(){return s("2021",u.month)}},"2021"),r.a.createElement(b.l,{onClick:function(){return s("2022",u.month)}},"2022"),r.a.createElement(b.l,{divider:!0}),r.a.createElement(b.l,null,"Agregar a\xf1o"))),r.a.createElement(b.H,{nav:!0,inNavbar:!0},r.a.createElement(b.n,{nav:!0,caret:!0},"Mes"),r.a.createElement(b.m,{end:!0},r.a.createElement(b.l,{onClick:function(){return s(u.year,"01")}},"Enero"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"02")}},"Febrero"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"03")}},"Marzo"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"04")}},"Abril"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"05")}},"Mayo"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"06")}},"Junio"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"07")}},"Julio"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"08")}},"Agosto"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"09")}},"Septiembre"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"10")}},"Octubre"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"11")}},"Noviembre"),r.a.createElement(b.l,{onClick:function(){return s(u.year,"12")}},"Diciembre")))),r.a.createElement(b.c,{outline:!0,onClick:e.toogleCreditCardModal},r.a.createElement(v.f,null)," Tarjeta de cr\xe9dito"),r.a.createElement(b.c,{outline:e.metricsOpen,onClick:e.toogleMetrics},r.a.createElement(v.e,null)," Metricas"),r.a.createElement(N,null))),!i.loggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.A,{href:"/"},"Gastos"),r.a.createElement(g.a,{name:"",round:!0,size:"60"}))))},S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.g,{className:"text-muted"},"Footer"))},I=a(6),M=a(32),F=a(98),P=(a(249),a(251),function(e){var t=e.creditCardModalOpen,a=e.toogleCreditCardModal,l=Object(n.useState)({expiry:"",expiryyear:"",focus:"",alias:"",cvc:"",number:""}),c=Object(o.a)(l,2),m=c[0],u=c[1],s=function(e){u(Object(M.a)({},m,{focus:e.target.name}))},i=function(e){var t=e.target,a=t.name,n=t.id,r=t.value;if("cardHolder"===n){var l=document.getElementById(n);l.value=l.value.replace(/[}"`~_=.\->\]|<?+*/,\d;[:{\\!@#/'$%^&*()]/g,""),u(Object(M.a)({},m,Object(I.a)({},a,l.value)))}else u(Object(M.a)({},m,Object(I.a)({},a,r)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.u,{isOpen:t,fullscreen:"lg",size:"lg"},r.a.createElement(b.x,null,"Crear nueva tarjeta"),r.a.createElement(b.v,null,r.a.createElement("div",{className:"credit-card "},r.a.createElement(F.a,{locale:{valid:"Expira"},placeholders:{name:"ALIAS TC"},cvc:m.cvc,expiry:m.expiry+"/"+m.expiryyear,focused:m.focus,name:m.alias,number:m.number})),r.a.createElement("div",{className:"card"},r.a.createElement("form",{className:"payment-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cardNumber",className:"card-label"},"N\xfamero"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target,a=t.name,n=t.value.replace(/[A-Za-z}"`~_=.\->\]|<?+*/,;[:{\\!@#/'$%^&*()]/g,"");u(Object(M.a)({},m,Object(I.a)({},a,n)))},value:m.number,onPaste:function(e){return e.preventDefault()},onKeyPress:function(e){var t=e.target,a=t.value,n=t.id,r=document.getElementById(n);4!==a.length&&9!==a.length&&14!==a.length||(r.value=r.value.replace(/\W/gi,"").replace(/(.{4})/g,"$1 "))},onFocus:s,name:"number",maxLength:"19",id:"cardNumber",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cardHolder",className:"card-label"},"Alias"),r.a.createElement("input",{type:"text",name:"alias",spellCheck:"false",value:m.alias,maxLength:"20",autoComplete:"off",onPaste:function(e){return e.preventDefault()},onChange:i,onFocus:s,id:"cardHolder",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"expiry-class"},r.a.createElement("div",{className:"form-group card-month "},r.a.createElement("label",{htmlFor:"cardMonth",className:"card-label"},"Vencimiento"),r.a.createElement("select",{id:"cardMonth","data-ref":"cardDate",value:m.expiry,name:"expiry",onChange:i,onFocus:s,className:"form-control form-control-lg"},r.a.createElement("option",{value:"",defaultChecked:"true"},"Mes"),r.a.createElement("option",{value:"01"},"01"),r.a.createElement("option",{value:"02"},"02"),r.a.createElement("option",{value:"03"},"03"),r.a.createElement("option",{value:"04"},"04"),r.a.createElement("option",{value:"05"},"05"),r.a.createElement("option",{value:"06"},"06"),r.a.createElement("option",{value:"07"},"07"),r.a.createElement("option",{value:"08"},"08"),r.a.createElement("option",{value:"09"},"09"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"12"},"12"))),r.a.createElement("div",{className:"form-group card-year"},r.a.createElement("select",{id:"cardYear","data-ref":"cardDate",value:m.expiryyear,name:"expiryyear",onChange:i,onFocus:s,className:"form-control form-control-lg"},r.a.createElement("option",{value:"",defaultChecked:"true"},"A\xf1o"),r.a.createElement("option",{value:"2020"},"2020"),r.a.createElement("option",{value:"2021"},"2021"),r.a.createElement("option",{value:"2022"},"2022"),r.a.createElement("option",{value:"2023"},"2023"),r.a.createElement("option",{value:"2024"},"2024"),r.a.createElement("option",{value:"2025"},"2025"),r.a.createElement("option",{value:"2026"},"2026"),r.a.createElement("option",{value:"2027"},"2027"),r.a.createElement("option",{value:"2028"},"2028"),r.a.createElement("option",{value:"2029"},"2029"),r.a.createElement("option",{value:"2030"},"2030"),r.a.createElement("option",{value:"2031"},"2031"))))))),r.a.createElement(b.w,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){console.log(m)}},"Crear"),"   ",r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a()}},"Cancelar"))))}),A=a(0),G=function(){var e=Object(w.b)(),t=Object(A.m)(),a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],m=l[1],u=Object(n.useState)(""),s=Object(o.a)(u,2),i=s[0],E=s[1],p=Object(n.useState)(!1),d=Object(o.a)(p,2),f=d[0],h=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),O=v[0],j=v[1],C=Object(n.useState)(""),x=Object(o.a)(C,2),N=x[0],k=x[1],S=Object(n.useContext)(y),I=(S.sessionState,S.login);Object(n.useEffect)(function(){Object(w.c)(e,function(e){e?(I(e),t("/")):console.log("user is logged out")})},[]);return r.a.createElement(b.j,null,r.a.createElement(b.C,null,r.a.createElement(b.h,null,r.a.createElement(b.e,null,r.a.createElement(b.f,null,r.a.createElement(b.o,{onSubmit:function(a){a.preventDefault(),Object(w.d)(e,c,i).then(function(e){I(e.user),t("/")}).catch(function(e){h(!0),k(e.message),j(e.code)})}},r.a.createElement(b.p,{className:"pb-2 mr-sm-2 mb-sm-0"},r.a.createElement(b.t,{for:"exampleEmail",className:"mr-sm-2"},"Email"),r.a.createElement(b.q,{type:"email",name:"email",id:"exampleEmail",placeholder:"something@idk.cool",onChange:function(e){return m(e.currentTarget.value)}})),r.a.createElement(b.p,{className:"pb-2 mr-sm-2 mb-sm-0"},r.a.createElement(b.t,{for:"examplePassword",className:"mr-sm-2"},"Password"),r.a.createElement(b.q,{type:"password",name:"password",id:"examplePassword",placeholder:"don't tell!",onChange:function(e){return E(e.currentTarget.value)}})),r.a.createElement(b.c,{type:"submit",color:"primary"},"Login")))),f&&r.a.createElement(b.e,{className:"mt-5"},r.a.createElement(b.f,null,r.a.createElement(b.a,{color:"danger"},"auth/user-not-found"===O?r.a.createElement("p",null,"El usuario ingresado no existe, puede registrarte ",r.a.createElement("a",{href:"/signup"},"aqu\xed")):N))))))},D=function(){var e=Object(w.b)(),t=Object(A.m)(),a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],m=l[1],u=Object(n.useState)(""),s=Object(o.a)(u,2),i=s[0],E=s[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),f=d[0],h=d[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),O=v[0],j=v[1],C=Object(n.useState)(""),x=Object(o.a)(C,2),N=x[0],k=x[1],S=Object(n.useState)(""),I=Object(o.a)(S,2),M=I[0],F=I[1],P=Object(n.useContext)(y).login;Object(n.useEffect)(function(){Object(w.c)(e,function(e){e?(P(e),t("/")):console.log("user is logged out")})},[]);return r.a.createElement(b.j,null,r.a.createElement(b.C,null,r.a.createElement(b.h,null,r.a.createElement(b.e,null,r.a.createElement(b.f,null,M&&r.a.createElement(b.E,{className:"mb-4"},r.a.createElement(b.G,null,"Success"),r.a.createElement(b.F,null,M)),r.a.createElement(b.o,{onSubmit:function(a){a.preventDefault(),i===f?Object(w.a)(e,c,i).then(function(e){P(e.user),F("Account created successfully!"),t("/")}).catch(function(e){e.code;var t=e.message;j(!0),k(t)}):(j(!0),k("Passwords do not match!"))}},r.a.createElement(b.p,{className:"pb-2 mr-sm-2 mb-sm-0"},r.a.createElement(b.t,{for:"exampleEmail",className:"mr-sm-2"},"Email"),r.a.createElement(b.q,{type:"email",name:"email",id:"exampleEmail",placeholder:"something@idk.cool",onChange:function(e){return m(e.currentTarget.value)}})),r.a.createElement(b.p,{className:"pb-2 mr-sm-2 mb-sm-0"},r.a.createElement(b.t,{for:"examplePassword",className:"mr-sm-2"},"Password"),r.a.createElement(b.q,{type:"password",name:"password",id:"examplePassword",placeholder:"don't tell!",onChange:function(e){return E(e.currentTarget.value)}})),r.a.createElement(b.p,{className:"pb-2 mr-sm-2 mb-sm-0"},r.a.createElement(b.t,{for:"exampleConfirmPassword",className:"mr-sm-2"},"Confirm Password"),r.a.createElement(b.q,{type:"password",name:"confirmPassword",id:"exampleConfirmPassword",placeholder:"confirm password",onChange:function(e){return h(e.currentTarget.value)}})),r.a.createElement(b.c,{type:"submit",color:"primary"},"Signup")),O&&r.a.createElement(b.a,{color:"danger",className:"mt-3"},N))))))},T=a(3),_=a.n(T),q=a(5),z=a(121);a(146),a(253);z.a.initializeApp({apiKey:"AIzaSyCl6Cum-zKYBZbw-68bRUr1_yyIZv_2Lck",authDomain:"gastos-2b065.firebaseapp.com",databaseURL:"https://gastos-2b065-default-rtdb.firebaseio.com",projectId:"gastos-2b065",storageBucket:"gastos-2b065.appspot.com",messagingSenderId:"683135440178",appId:"1:683135440178:web:ac212a786cd2f12927b32b"});z.a;var L=a(46),B=new function e(){var t=this;Object(m.a)(this,e),this.peticionPost=function(e,a,n,r){var l=Object(L.d)(t.database,"".concat(r,"/").concat(a,"/").concat(n));Object(L.c)(l,e).then(function(){console.log("Item agregado exitosamente")}).catch(function(e){console.log("Error al agregar item",e)})},this.peticionPut=function(e,a,n,r,l){var c=Object(L.d)(t.database,"".concat(r,"/").concat(a,"/").concat(n,"/").concat(l));Object(L.f)(c,e).then(function(){console.log("Item actualizado correctamente")}).catch(function(e){console.error(e)})},this.peticionDelete=function(e,a,n,r,l){if(window.confirm("Est\xe1s seguro que deseas eliminar el elemento ".concat(e&&e.motivo,"?"))){var c=Object(L.d)(t.database,"".concat(r,"/").concat(a,"/").concat(n,"/").concat(l));Object(L.e)(c).catch(function(e){console.log(e)})}},this.peticionGet=function(){var e=Object(q.a)(_.a.mark(function e(a,n,r){var l,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=[],e.next=3,Object(L.a)(Object(L.d)(t.database,"".concat(r,"/").concat(a,"/").concat(n)));case 3:return(c=e.sent).exists()&&(l=c.val()),e.abrupt("return",l);case 6:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),this.database=Object(L.b)()},R=function(e){var t=Object(n.useContext)(p).state,a=Object(n.useState)([]),l=Object(o.a)(a,2),c=l[0],m=l[1],u=Object(n.useState)([]),s=Object(o.a)(u,2),i=s[0],E=s[1],d=Object(n.useState)([]),f=Object(o.a)(d,2),h=f[0],g=f[1],O=Object(n.useContext)(y).sessionState,j=function(e){var t=0;return Object.keys(e).length>0&&Object.keys(e).map(function(a){t+=parseInt(e[a].total)}),t},C=j(c),x=j(i),w=j(h);function N(){return(N=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"ingresos");case 2:(n=e.sent)&&m(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"gastos");case 2:(n=e.sent)&&E(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(){return(S=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"tc");case 2:(n=e.sent)&&g(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(e,t){N.apply(this,arguments)}(t.year,t.month)},[c,t.year,t.month]),Object(n.useEffect)(function(){!function(e,t){k.apply(this,arguments)}(t.year,t.month)},[i,t.year,t.month]),Object(n.useEffect)(function(){!function(e,t){S.apply(this,arguments)}(t.year,t.month)},[h,t.year,t.month]),r.a.createElement(r.a.Fragment,null,O.loggedIn&&r.a.createElement(b.i,{isOpen:e.metricsOpen},r.a.createElement(b.C,{className:"p-3 bg-dark my-2 rounded"},r.a.createElement(b.h,{xs:"6",sm:"4"},r.a.createElement(b.E,null,r.a.createElement(b.G,null,r.a.createElement("h3",null,"Ingresos")),r.a.createElement(b.F,null,r.a.createElement("h3",null,r.a.createElement(v.c,null)," ",C)))),r.a.createElement(b.h,{xs:"6",sm:"4"},r.a.createElement(b.E,null,r.a.createElement(b.G,null,r.a.createElement("h3",null," Gastos ")),r.a.createElement(b.F,null,r.a.createElement("h3",null," ",r.a.createElement(v.c,null),"  ",x)," ",r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement(v.b,null)," ",w," "),r.a.createElement("hr",null),r.a.createElement("h3",null," ",r.a.createElement(v.c,null)," ",x+w," ")))),r.a.createElement(b.h,{xs:"6",sm:"4"},r.a.createElement(b.E,null,r.a.createElement(b.G,null,r.a.createElement("h3",null,"Sobrante")),r.a.createElement(b.F,null,r.a.createElement("h3",null," ",r.a.createElement(v.c,null),C-(x+w)," "))),r.a.createElement(b.E,null,r.a.createElement(b.G,null,r.a.createElement("h3",null,"Ahorros")),r.a.createElement(b.F,null,r.a.createElement("h3",null," ",r.a.createElement(v.c,null)," ")))))))},H=function(e){switch(e.estado){case"Pendiente":return r.a.createElement(b.b,{color:"secondary"},e.estado);case"Estimado":return r.a.createElement(b.b,{color:"warning"},e.estado);case"Pago":return r.a.createElement(b.b,{color:"success"},e.estado);default:return r.a.createElement(b.b,{color:"primary"},e.estado)}},U=function(e){var t=e.handleChange,a=e.formItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.o,null,r.a.createElement(b.p,{floating:!0},r.a.createElement(b.q,{id:"motivo",name:"motivo",placeholder:"Motivo",type:"text",onChange:t,value:a&&a.motivo,required:!0}),r.a.createElement(b.t,{for:"motivo"},"Motivo")),r.a.createElement(b.p,{floating:!0},r.a.createElement(b.q,{id:"fecha",name:"fecha",placeholder:"date placeholder",type:"date",value:a&&a.fecha,onChange:t}),r.a.createElement(b.t,{for:"fecha"},"Fecha")),r.a.createElement(b.p,{floating:!0},r.a.createElement(b.t,{for:"total"},"Total"),r.a.createElement(b.r,null,r.a.createElement(b.s,null,"$"),r.a.createElement(b.q,{id:"total",name:"total",type:"text",placeholder:"Total",value:a&&a.total,onChange:t}))),r.a.createElement(b.p,null,r.a.createElement(b.t,{for:"estado"},"Estado"),r.a.createElement(b.q,{id:"estado",name:"estado",type:"select",value:a&&a.estado,onChange:t},r.a.createElement("option",null,"Estimado"),r.a.createElement("option",null,"Pendiente"),r.a.createElement("option",null,"Pago")))))},Y=function(e){var t=Object(n.useContext)(y).sessionState,a=Object(n.useState)({motivo:"",fecha:"",fecha_cierre:"",total:"",estado:"Estimado",userUID:t.loggedIn?t.user.uid:""}),l=Object(o.a)(a,2),c=l[0],m=l[1];return r.a.createElement(b.u,{isOpen:e.isOpen},r.a.createElement(b.x,null,e.title),r.a.createElement(b.v,null,r.a.createElement(U,{handleChange:function(e){m(Object(M.a)({},c,Object(I.a)({},e.target.name,e.target.value)))}})),r.a.createElement(b.w,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.tipo,B.peticionPost(c,e.year,e.month,e.tipo),void e.closeModal()}},"Insertar"),"   ",r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.closeModal()}},"Cancelar")))},$=function(e){return r.a.createElement(b.u,{isOpen:e.isOpen},r.a.createElement(b.x,null,"Editar Registro"),r.a.createElement(b.v,null,r.a.createElement(U,{handleChange:e.handleChange,formItem:e.formItem})),r.a.createElement(b.w,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return B.peticionPut(e.formItem,e.year,e.month,e.tipo,e.formItemId),void e.closeModal()}},"Editar"),"   ",r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.closeModal()}},"Cancelar")))},J=function(e){var t=e.items,a=e.type,l=Object(n.useContext)(p).state,c=Object(n.useState)(!1),m=Object(o.a)(c,2),u=m[0],s=m[1],i=Object(n.useState)(!1),E=Object(o.a)(i,2),d=E[0],f=E[1],h=Object(n.useState)(),g=Object(o.a)(h,2),O=g[0],j=g[1],y=Object(n.useState)(),C=Object(o.a)(y,2),x=C[0],w=C[1],N=function(){s(!1),f(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.D,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Motivo"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Importe"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,Object.keys(t).map(function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,t[e].motivo),r.a.createElement("td",null,t[e].fecha),r.a.createElement("td",null,"$ ",t[e].total),r.a.createElement("td",null,r.a.createElement(H,{estado:t[e].estado})),r.a.createElement("td",null,r.a.createElement(b.d,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a=t[e],n=e,j(a),w(n),void f(!0);var a,n}}," ",r.a.createElement(v.d,null))," ","   ",r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return n=t[e],r=e,void B.peticionDelete(n,l.year,l.month,a,r);var n,r}},r.a.createElement(v.a,null)))))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},r.a.createElement("button",{type:"button",className:"btn btn-link btn-sm",onClick:function(){return s(!0)}},"Nuevos ",a))))),r.a.createElement(Y,{isOpen:u,title:"Insertar "+a,tipo:a,year:l.year,month:l.month,closeModal:N}),r.a.createElement($,{isOpen:d,formItem:O,formItemId:x,tipo:a,year:l.year,month:l.month,handleChange:function(e){j(Object(M.a)({},O,Object(I.a)({},e.target.name,e.target.value)))},closeModal:N}))},K=(a(255),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),u=m[0],s=m[1],i=Object(n.useState)([]),E=Object(o.a)(i,2),d=E[0],f=E[1],h=Object(n.useContext)(p).state,g=Object(n.useContext)(y).sessionState;function v(){return(v=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"ingresos");case 2:(n=e.sent)&&l(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return(O=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"gastos");case 2:(n=e.sent)&&s(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){return(j=Object(q.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.peticionGet(t,a,"tc");case 2:(n=e.sent)&&f(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(e,t){v.apply(this,arguments)}(h.year,h.month)},[a,h.year,h.month]),Object(n.useEffect)(function(){!function(e,t){O.apply(this,arguments)}(h.year,h.month)},[u,h.year,h.month]),Object(n.useEffect)(function(){!function(e,t){j.apply(this,arguments)}(h.year,h.month)},[d,h.year,h.month]),r.a.createElement(r.a.Fragment,null,g.loggedIn&&r.a.createElement(b.j,null,r.a.createElement(b.C,{xs:"2"},r.a.createElement(b.h,null,r.a.createElement("h1",null,"Ingresos"),r.a.createElement(J,{items:a,type:"ingresos"})),r.a.createElement(b.h,null,r.a.createElement("h1",null,"Gastos"),r.a.createElement(J,{items:u,type:"gastos"})))))}),Z=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"}},r.a.createElement("h1",{style:{fontSize:"5rem",marginBottom:"2rem"}},"404"),r.a.createElement("p",{style:{fontSize:"1.5rem",textAlign:"center"}},"Oops! La p\xe1gina que est\xe1s buscando no existe."),r.a.createElement("button",{style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.25rem",marginTop:"2rem",cursor:"pointer"},onClick:function(){return window.history.back()}},"Volver atr\xe1s"))},V=function(e){var t=Object(n.useContext)(y).login,a=Object(w.b)(),l=Object(A.m)();return Object(n.useEffect)(function(){Object(w.c)(a,function(e){e?t(e):(console.log("user is logged out"),l("/login"))})},[]),r.a.createElement(A.c,null,r.a.createElement(A.a,{path:"/",element:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.C,null,r.a.createElement(R,{metricsOpen:e.metricsOpen})),r.a.createElement(b.C,null,r.a.createElement(K,null)))}),r.a.createElement(A.a,{path:"/signup",element:r.a.createElement(D,null)}),r.a.createElement(A.a,{path:"/login",element:r.a.createElement(G,null)}),r.a.createElement(A.a,{path:"*",element:r.a.createElement(Z,null)}))};var W=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!0),m=Object(o.a)(c,2),u=m[0],s=m[1],i=function(){l(!a)};return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement(f,null,r.a.createElement(x,null,r.a.createElement("div",{className:"App"},r.a.createElement(b.j,{fluid:!0},r.a.createElement(b.C,null,r.a.createElement(k,{toogleMetrics:function(){s(!u)},metricsOpen:u,toogleCreditCardModal:i})),r.a.createElement(h.a,{basename:"/gastos-app"},r.a.createElement(V,{metricsOpen:u})),r.a.createElement(b.C,null,r.a.createElement(S,null))),r.a.createElement(P,{creditCardModalOpen:a,toogleCreditCardModal:i}))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[158,2,1]]]);
//# sourceMappingURL=main.b3b4031b.chunk.js.map